<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KYUNG HEE SA | Warmth in Namdaemun</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Montserrat', sans-serif; background-color: #fdfaf6; }
        h1, h2 { font-family: 'Playfair Display', serif; }
    </style>
</head>
<body class="p-8">
    <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-4xl mb-4 text-amber-900">KYUNG HEE SA</h1>
        <p class="mb-8 text-gray-600">남대문의 따뜻한 소품샵, 경희사 이야기를 불러오는 중입니다...</p>
        
        <div id="prop-container" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
    </div>

    <script type="module">
        import { GoogleGenerativeAI } from "https://esm.run/@google/generative-ai";

        // 1. 여기에 본인의 API 키를 넣으세요!
        const API_KEY = "AIzaSyAeh9vZyex7zIkDW79UaxFwv8qNJW5fhlE"; 
        const genAI = new GoogleGenerativeAI(API_KEY);

        async function loadStories() {
            const container = document.getElementById('prop-container');
            
            try {
                const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });
                const prompt = "Create 4 poetic and warm descriptions for aesthetic props found in a Seoul gift shop named 'KYUNG HEE SA'. Return as a JSON array of objects with 'title' and 'description'. Focus on themes of warmth, Korean history, and small daily happiness. Please answer in Korean.";

                const result = await model.generateContent(prompt);
                const response = await result.response;
                const text = response.text();
                
                // JSON 부분만 추출해서 파싱
                const jsonStr = text.match(/\[.*\]/s)[0];
                const data = JSON.parse(jsonStr);

                // 화면에 그려주기
                container.innerHTML = data.map(item => `
                    <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-100 text-left">
                        <h3 class="text-xl font-bold mb-2 text-stone-800">${item.title}</h3>
                        <p class="text-stone-600 leading-relaxed">${item.description}</p>
                    </div>
                `).join('');

            } catch (error) {
                console.error("에러 발생:", error);
                container.innerHTML = "<p class='text-red-500'>데이터를 불러오는 데 실패했습니다. API 키를 확인해 주세요!</p>";
            }
        }

        loadStories();
    </script>
</body>
</html>